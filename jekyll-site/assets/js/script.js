document.addEventListener('DOMContentLoaded', function() { const header = document.querySelector('.navbar'); window.addEventListener('scroll', function() { if (window.scrollY > 50) { header.classList.add('navbar-scrolled'); } else { header.classList.remove('navbar-scrolled'); } }); document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { e.preventDefault(); const targetId = this.getAttribute('href'); if (targetId === '#') return; const targetElement = document.querySelector(targetId); if (targetElement) { window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' }); } }); }); const animateElements = document.querySelectorAll('.animate-on-scroll'); const animateOnScroll = function() { animateElements.forEach(element => { const elementPosition = element.getBoundingClientRect().top; const windowHeight = window.innerHeight; if (elementPosition < windowHeight - 100) { element.classList.add('animated'); } }); }; window.addEventListener('scroll', animateOnScroll); animateOnScroll(); const contactForm = document.querySelector('#contact-form'); if (contactForm) { contactForm.addEventListener('submit', function(e) { e.preventDefault(); let isValid = true; const requiredFields = contactForm.querySelectorAll('[required]'); requiredFields.forEach(field => { if (!field.value.trim()) { isValid = false; field.classList.add('is-invalid'); } else { field.classList.remove('is-invalid'); } }); const emailField = contactForm.querySelector('input[type="email"]'); if (emailField && emailField.value) { const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; if (!emailPattern.test(emailField.value)) { isValid = false; emailField.classList.add('is-invalid'); } } if (isValid) { alert('お問い合わせありがとうございます。担当者より連絡いたします。'); contactForm.reset(); } else { alert('必須項目を入力してください。'); } }); } const faqItems = document.querySelectorAll('.faq-item'); if (faqItems.length > 0) { faqItems.forEach(item => { const question = item.querySelector('.faq-question'); question.addEventListener('click', function() { item.classList.toggle('active'); }); }); }
});