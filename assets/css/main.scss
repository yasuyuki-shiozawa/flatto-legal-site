---
# Jekyll用のフロントマター
---

// メインスタイルシート
// SCSSファイルをインポート

// ベース（変数とタイポグラフィ）
@import "base/variables";
@import "base/color-theme";
@import "base/typography-simplified";
@import "base/typography-enhanced";
@import "base/grid";
@import "base/utilities";

// レイアウト
@import "layout/core-layout"; // 統合されたコアレイアウト
// @import "layout/three-column"; // core-layoutに統合
// @import "layout/mobile-responsive"; // core-layoutに統合

// コンポーネント
@import "components/breadcrumb";
@import "components/header";
@import "components/footer";
@import "components/mobile-menu";
@import "components/mobile-sidebar";
@import "components/buttons";
@import "components/cards";
@import "components/sidebar-cards";
@import "components/cards-modern";
@import "components/sidebar-cards-enhanced";
@import "components/quick-links";
@import "components/forms";
@import "components/alerts";
@import "components/images";
@import "components/content-images";
@import "components/optimized-images";
@import "components/touch";
@import "components/search";
@import "components/toc";
@import "components/progress";
@import "components/content-templates";
@import "components/form-validation";
@import "components/accessibility";
@import "components/accessibility-enhanced";
@import "components/user-feedback";
@import "components/personalization";
@import "components/dashboard";
@import "components/report-generator";
@import "components/comparison-tools";
@import "components/site-analytics";
@import "components/popular-posts";
@import "components/character-placement";
@import "components/cta-sections";
@import "components/cta-character";

// ページ固有スタイル
@import "pages/home";
@import "pages/home-enhanced";
@import "pages/blog";
@import "pages/blog-enhanced";
@import "pages/blog-lp";
@import "pages/blog-fix";
@import "pages/post-article";

// モバイルファーストのリセット
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// レスポンシブコンテナ
.container {
  width: 100%;
  margin: 0 auto;
  padding: 0 var(--space-4);
  
  @media (min-width: 640px) {
    max-width: 640px;
  }
  
  @media (min-width: 768px) {
    max-width: 768px;
    padding: 0 var(--space-6);
  }
  
  @media (min-width: 1024px) {
    max-width: 1024px;
  }
  
  @media (min-width: 1280px) {
    max-width: 1280px;
  }
  
  @media (min-width: 1536px) {
    max-width: 1400px;
  }
}

// セーフエリア対応
@supports (padding: max(0px)) {
  .container {
    padding-left: max(var(--space-4), env(safe-area-inset-left));
    padding-right: max(var(--space-4), env(safe-area-inset-right));
  }
}

// ビューポートユニット対応
.vh-100 {
  height: 100vh;
  height: 100dvh; // Dynamic viewport height
}

// セクションスペーシング
.section {
  padding: var(--space-8) 0;
  
  @media (min-width: 768px) {
    padding: var(--space-12) 0;
  }
  
  @media (min-width: 1024px) {
    padding: var(--space-16) 0;
  }
}

// 印刷スタイル
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.5;
  }
  
  a {
    text-decoration: underline;
  }
  
  a[href^="http"]:after {
    content: " (" attr(href) ")";
  }
}

// ========================================
// モバイル版緊急修正 - 根本的解決
// ========================================

@media (max-width: 768px) {
  // 基本レイアウトの修正
  .main-content,
  .content-wrapper,
  .page-content {
    display: block !important;
    flex-direction: column !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 1rem !important;
  }

  // サイドバーの完全非表示
  .sidebar,
  .sidebar-wrapper,
  .sidebar-content,
  aside {
    display: none !important;
    visibility: hidden !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
  }

  // カードグリッドの縦並び
  .card-grid,
  .cards-container,
  .grid,
  .grid-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 1rem !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  // 個別カードの最適化
  .card,
  .card-item,
  .grid-item {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 0 1rem 0 !important;
    padding: 1rem !important;
    box-sizing: border-box !important;
    flex: none !important;
    display: block !important;
  }

  // テキストの可読性向上
  .card h3,
  .card-title,
  .grid-item h3 {
    font-size: 1.2rem !important;
    line-height: 1.4 !important;
    margin: 0 0 0.5rem 0 !important;
    color: #333 !important;
    font-weight: 600 !important;
    text-align: left !important;
    writing-mode: horizontal-tb !important;
  }

  .card p,
  .card-content,
  .grid-item p {
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
    color: #666 !important;
    margin: 0.5rem 0 !important;
    text-align: left !important;
    writing-mode: horizontal-tb !important;
  }

  // 背景色とコントラストの修正
  .card,
  .card-item {
    background-color: #fff !important;
    border: 1px solid #e0e0e0 !important;
    border-radius: 8px !important;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
  }

  // 濃い背景での白抜きテキスト
  .dark-bg,
  .hero-section,
  .cta-section {
    .card,
    .card-item {
      background-color: rgba(255,255,255,0.95) !important;
      color: #333 !important;
    }
    
    h1, h2, h3, h4, h5, h6 {
      color: #fff !important;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5) !important;
    }
    
    p, span, div {
      color: #fff !important;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3) !important;
    }
  }

  // ナビゲーションの修正
  .nav-links,
  .navigation {
    display: none !important;
  }

  // モバイルメニューボタンの表示
  .mobile-menu-toggle,
  .hamburger-menu {
    display: block !important;
    position: fixed !important;
    top: 1rem !important;
    right: 1rem !important;
    z-index: 9999 !important;
    background: #007cba !important;
    color: #fff !important;
    border: none !important;
    border-radius: 50% !important;
    width: 50px !important;
    height: 50px !important;
    font-size: 1.2rem !important;
    cursor: pointer !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;
  }

  // モバイルメニューの表示（初期状態は完全に非表示）
  .mobile-menu {
    position: fixed !important;
    top: 0 !important;
    left: -100% !important;
    width: 80% !important;
    height: 100vh !important;
    background: #fff !important;
    z-index: 9998 !important;
    transition: left 0.3s ease !important;
    padding: 2rem 1rem !important;
    box-shadow: 2px 0 10px rgba(0,0,0,0.3) !important;
    overflow-y: auto !important;
    display: none !important; // 初期状態で完全に非表示
    visibility: hidden !important; // 追加の非表示設定
    opacity: 0 !important; // 追加の非表示設定
  }
  
  // メニューが開かれた時のみ表示
  .mobile-menu.show {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    left: 0 !important;
  }

  .mobile-menu.active {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    left: 0 !important;
  }

  .mobile-menu a {
    display: block !important;
    padding: 1rem 0 !important;
    color: #333 !important;
    text-decoration: none !important;
    border-bottom: 1px solid #eee !important;
    font-size: 1.1rem !important;
  }

  // ヘッダーの最適化
  .header,
  .site-header {
    padding: 0.5rem 1rem !important;
    height: auto !important;
    min-height: 60px !important;
  }

  .header .logo,
  .site-header .logo {
    max-height: 40px !important;
    width: auto !important;
  }

  // フッターの最適化
  .footer,
  .site-footer {
    padding: 2rem 1rem !important;
    text-align: center !important;
  }

  // ボタンの最適化
  .btn,
  .button,
  button {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 0.75rem 1.5rem !important;
    font-size: 1rem !important;
    border-radius: 6px !important;
    touch-action: manipulation !important;
  }

  // リンクの最適化
  a {
    min-height: 44px !important;
    display: inline-block !important;
    padding: 0.5rem !important;
    touch-action: manipulation !important;
  }

  // 画像の最適化
  img {
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
    margin: 0 auto !important;
  }

  // フォームの最適化
  input,
  textarea,
  select {
    width: 100% !important;
    min-height: 44px !important;
    padding: 0.75rem !important;
    font-size: 1rem !important;
    border: 1px solid #ccc !important;
    border-radius: 4px !important;
    box-sizing: border-box !important;
  }

  // テーブルの最適化
  table {
    width: 100% !important;
    overflow-x: auto !important;
    display: block !important;
    white-space: nowrap !important;
  }

  // スクロール最適化
  body {
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
  }

  // パフォーマンス最適化
  * {
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
  }
}

// 超小型デバイス対応（320px以下）
@media (max-width: 320px) {
  .container {
    padding: 0 0.5rem !important;
  }
  
  .card,
  .card-item {
    padding: 0.75rem !important;
    margin: 0 0 0.75rem 0 !important;
  }
  
  .card h3,
  .card-title {
    font-size: 1.1rem !important;
  }
  
  .card p,
  .card-content {
    font-size: 0.85rem !important;
  }
}


