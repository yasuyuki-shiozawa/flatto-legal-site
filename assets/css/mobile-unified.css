/* 統合モバイルCSS - 完全リセット版 */
/* 全ての競合を解決し、確実に動作するモバイル対応 */

/* ========================================
   1. モバイルメニューの確実な実装
   ======================================== */

@media (max-width: 768px) {
    
    /* モバイルメニューボタン */
    .mobile-menu-btn {
        position: fixed !important;
        top: 1rem !important;
        left: 1rem !important;
        width: 48px !important;
        height: 48px !important;
        background-color: #3182ce !important;
        color: #ffffff !important;
        border: none !important;
        border-radius: 6px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 1.25rem !important;
        cursor: pointer !important;
        z-index: 100001 !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
        touch-action: manipulation !important;
    }
    
    .mobile-menu-btn:hover {
        background-color: #2c5aa0 !important;
    }
    
    /* モバイルメニューオーバーレイ */
    .mobile-menu-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        background-color: rgba(0, 0, 0, 0.5) !important;
        z-index: 99999 !important;
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }
    
    .mobile-menu-overlay.active {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    /* モバイルメニュー本体 */
    .mobile-menu {
        position: fixed !important;
        top: 0 !important;
        left: -100% !important;
        width: 80% !important;
        max-width: 320px !important;
        height: 100vh !important;
        background-color: #ffffff !important;
        z-index: 100000 !important;
        padding: 1rem !important;
        box-shadow: 2px 0 8px rgba(0, 0, 0, 0.2) !important;
        overflow-y: auto !important;
        transition: left 0.3s ease !important;
        
        /* 確実な非表示設定 */
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }
    
    .mobile-menu.active {
        left: 0 !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    /* メニュー閉じるボタン */
    .mobile-menu-close {
        position: absolute !important;
        top: 1rem !important;
        right: 1rem !important;
        width: 32px !important;
        height: 32px !important;
        background: none !important;
        border: none !important;
        font-size: 1.5rem !important;
        color: #4a5568 !important;
        cursor: pointer !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    /* メニューリスト */
    .mobile-menu-list {
        list-style: none !important;
        padding: 0 !important;
        margin: 3rem 0 0 0 !important;
    }
    
    .mobile-menu-item {
        margin-bottom: 0.5rem !important;
    }
    
    .mobile-menu-link {
        display: block !important;
        padding: 0.75rem 1rem !important;
        color: #2d3748 !important;
        text-decoration: none !important;
        border-radius: 6px !important;
        font-weight: 500 !important;
        transition: background-color 0.2s ease !important;
    }
    
    .mobile-menu-link:hover {
        background-color: #f7fafc !important;
        color: #3182ce !important;
    }
}

/* ========================================
   2. テキスト可読性の完全修正
   ======================================== */

@media (max-width: 768px) {
    
    /* 基本的なテキストスタイル */
    body {
        font-size: 16px !important;
        line-height: 1.6 !important;
        color: #2d3748 !important;
        background-color: #ffffff !important;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
    }
    
    /* 見出しの修正 */
    h1, h2, h3, h4, h5, h6 {
        color: #1a202c !important;
        font-weight: 700 !important;
        margin-bottom: 1rem !important;
        text-align: left !important;
        width: 100% !important;
        display: block !important;
        writing-mode: horizontal-tb !important;
        text-orientation: mixed !important;
        direction: ltr !important;
    }
    
    h1 { font-size: 1.75rem !important; line-height: 1.3 !important; }
    h2 { font-size: 1.5rem !important; line-height: 1.4 !important; }
    h3 { font-size: 1.25rem !important; line-height: 1.4 !important; }
    h4 { font-size: 1.125rem !important; line-height: 1.4 !important; }
    h5 { font-size: 1rem !important; line-height: 1.4 !important; }
    h6 { font-size: 0.875rem !important; line-height: 1.4 !important; }
    
    /* 段落の修正 */
    p {
        color: #2d3748 !important;
        font-size: 16px !important;
        line-height: 1.6 !important;
        margin-bottom: 1rem !important;
        text-align: left !important;
        width: 100% !important;
        max-width: none !important;
        writing-mode: horizontal-tb !important;
        text-orientation: mixed !important;
        direction: ltr !important;
        white-space: normal !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        hyphens: auto !important;
    }
    
    /* リンクの修正 */
    a {
        color: #3182ce !important;
        text-decoration: underline !important;
    }
    
    a:hover {
        color: #2c5aa0 !important;
    }
    
    /* リストの修正 */
    ul, ol {
        padding-left: 1.5rem !important;
        margin-bottom: 1rem !important;
    }
    
    li {
        color: #2d3748 !important;
        font-size: 16px !important;
        line-height: 1.6 !important;
        margin-bottom: 0.5rem !important;
    }
}

/* ========================================
   3. レイアウトの完全修正
   ======================================== */

@media (max-width: 768px) {
    
    /* サイドバーの完全非表示 */
    .left-sidebar,
    .sidebar,
    .side-nav,
    .sidebar-wrapper,
    .sidebar-content {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        width: 0 !important;
        height: 0 !important;
        overflow: hidden !important;
    }
    
    /* メインコンテンツの幅調整 */
    .main-content,
    .content-wrapper,
    .page-content,
    .post-content {
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 1rem !important;
        box-sizing: border-box !important;
    }
    
    /* コンテナの調整 */
    .container,
    .wrapper,
    .main-wrapper {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 1rem !important;
        margin: 0 auto !important;
        box-sizing: border-box !important;
    }
    
    /* セクションの調整 */
    section {
        width: 100% !important;
        padding: 2rem 1rem !important;
        margin: 0 !important;
        box-sizing: border-box !important;
    }
    
    /* カードレイアウトの修正 */
    .content-cards-grid,
    .service-cards-container,
    .cards-grid {
        display: flex !important;
        flex-direction: column !important;
        gap: 1.5rem !important;
        width: 100% !important;
        max-width: 100% !important;
    }
    
    .content-card,
    .service-card,
    .card {
        width: 100% !important;
        display: block !important;
        margin-bottom: 1.5rem !important;
        padding: 1.5rem !important;
        background-color: #ffffff !important;
        border: 1px solid #e2e8f0 !important;
        border-radius: 8px !important;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
        box-sizing: border-box !important;
    }
}

/* ========================================
   4. 濃い背景での白抜きテキスト
   ======================================== */

@media (max-width: 768px) {
    
    /* サービスカードの背景色別設定 */
    .service-card.teal,
    .service-card.indigo,
    .service-card.coral,
    .bg-primary,
    .bg-secondary,
    .bg-accent,
    .bg-dark,
    .hero-section {
        color: #ffffff !important;
    }
    
    .service-card.teal *,
    .service-card.indigo *,
    .service-card.coral *,
    .bg-primary *,
    .bg-secondary *,
    .bg-accent *,
    .bg-dark *,
    .hero-section * {
        color: #ffffff !important;
    }
    
    /* 特定の背景色 */
    .service-card.teal {
        background-color: #0d9488 !important;
    }
    
    .service-card.indigo {
        background-color: #4f46e5 !important;
    }
    
    .service-card.coral {
        background-color: #dc2626 !important;
    }
    
    /* ヒーローセクション */
    .hero-section {
        background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%) !important;
        color: #ffffff !important;
        padding: 2rem 1rem !important;
        text-align: center !important;
    }
    
    .hero-title {
        font-size: 1.75rem !important;
        font-weight: 700 !important;
        line-height: 1.3 !important;
        margin-bottom: 1rem !important;
        color: #ffffff !important;
    }
    
    .hero-subtitle,
    .hero-description {
        color: #e2e8f0 !important;
        font-size: 1rem !important;
        line-height: 1.5 !important;
        margin-bottom: 1.5rem !important;
    }
}

/* ========================================
   5. ボタンとタッチ操作の最適化
   ======================================== */

@media (max-width: 768px) {
    
    /* すべてのボタンの最適化 */
    button,
    .btn,
    a.btn,
    input[type="submit"],
    input[type="button"] {
        min-height: 44px !important;
        min-width: 44px !important;
        padding: 0.75rem 1.5rem !important;
        font-size: 16px !important;
        line-height: 1.4 !important;
        border-radius: 6px !important;
        cursor: pointer !important;
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1) !important;
        border: none !important;
        text-decoration: none !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        box-sizing: border-box !important;
    }
    
    /* プライマリボタン */
    .btn-primary {
        background-color: #3182ce !important;
        color: #ffffff !important;
    }
    
    .btn-primary:hover {
        background-color: #2c5aa0 !important;
        color: #ffffff !important;
    }
    
    /* セカンダリボタン */
    .btn-secondary,
    .btn-outline-primary {
        background-color: transparent !important;
        color: #3182ce !important;
        border: 2px solid #3182ce !important;
    }
    
    .btn-secondary:hover,
    .btn-outline-primary:hover {
        background-color: #3182ce !important;
        color: #ffffff !important;
    }
    
    /* 白いボタン */
    .btn-white {
        background-color: #ffffff !important;
        color: #1a202c !important;
        border: 2px solid #ffffff !important;
    }
    
    .btn-white:hover {
        background-color: transparent !important;
        color: #ffffff !important;
    }
}

/* ========================================
   6. 画像とメディアの最適化
   ======================================== */

@media (max-width: 768px) {
    
    /* すべての画像をレスポンシブに */
    img {
        max-width: 100% !important;
        height: auto !important;
        display: block !important;
        margin: 0 auto !important;
        border-radius: 4px !important;
    }
    
    /* ヒーロー画像の最適化 */
    .hero-character img,
    .hero-image img {
        max-width: 200px !important;
        margin: 1rem auto !important;
    }
    
    /* ロゴの最適化 */
    .logo-img {
        max-height: 40px !important;
        width: auto !important;
        margin: 0 !important;
    }
}

/* ========================================
   7. フォームの最適化
   ======================================== */

@media (max-width: 768px) {
    
    /* フォーム要素の最適化 */
    input,
    textarea,
    select {
        width: 100% !important;
        min-height: 44px !important;
        padding: 0.75rem !important;
        font-size: 16px !important;
        line-height: 1.4 !important;
        border: 2px solid #e2e8f0 !important;
        border-radius: 6px !important;
        background-color: #ffffff !important;
        color: #2d3748 !important;
        box-sizing: border-box !important;
        -webkit-appearance: none !important;
        appearance: none !important;
    }
    
    /* フォーカス状態 */
    input:focus,
    textarea:focus,
    select:focus {
        outline: none !important;
        border-color: #3182ce !important;
        box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1) !important;
    }
    
    /* ラベルの最適化 */
    label {
        display: block !important;
        font-weight: 600 !important;
        margin-bottom: 0.5rem !important;
        color: #2d3748 !important;
        font-size: 16px !important;
    }
}

/* ========================================
   8. デスクトップナビゲーションの完全非表示化
   ======================================== */

@media (max-width: 768px) {
    
    /* デスクトップナビゲーションを完全に非表示 */
    .nav,
    .nav-list,
    .nav-item,
    .nav-link,
    .header-nav,
    .main-nav,
    .navigation,
    .navbar-nav,
    .desktop-nav,
    .header-content .nav {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        width: 0 !important;
        height: 0 !important;
        overflow: hidden !important;
        position: absolute !important;
        left: -9999px !important;
    }
    
    /* ヘッダーCTAボタンも非表示 */
    .header-cta,
    .header-content .header-cta {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }
    
    /* ヘッダーコンテンツの調整 */
    .header-content {
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        padding: 0.5rem 1rem !important;
    }
    
    /* ロゴエリアの調整 */
    .logo {
        flex: 1 !important;
        display: flex !important;
        align-items: center !important;
    }
    
    /* モバイルメニューボタンの表示確保 */
    .mobile-menu-btn {
        display: flex !important;
        position: relative !important;
        top: auto !important;
        left: auto !important;
        margin-left: auto !important;
        width: 44px !important;
        height: 44px !important;
        background-color: #3182ce !important;
        color: #ffffff !important;
        border: none !important;
        border-radius: 6px !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 1.25rem !important;
        cursor: pointer !important;
        z-index: 1000 !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
        touch-action: manipulation !important;
    }
    
    /* ハンバーガーアイコンのスタイル */
    .mobile-menu-btn span {
        display: block !important;
        width: 20px !important;
        height: 2px !important;
        background-color: #ffffff !important;
        margin: 3px 0 !important;
        transition: 0.3s !important;
        border-radius: 1px !important;
    }
    
    /* アクティブ時のアニメーション */
    .mobile-menu-btn.active span:nth-child(1) {
        transform: rotate(-45deg) translate(-5px, 6px) !important;
    }
    
    .mobile-menu-btn.active span:nth-child(2) {
        opacity: 0 !important;
    }
    
    .mobile-menu-btn.active span:nth-child(3) {
        transform: rotate(45deg) translate(-5px, -6px) !important;
    }
}

/* ========================================
   9. ナビゲーションの最適化
   ======================================== */

@media (max-width: 768px) {
    
    /* ヘッダーナビゲーション */
    .header-nav,
    .main-nav {
        display: none !important;
    }
    
    /* ブレッドクラム */
    .breadcrumb {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 0.5rem !important;
        padding: 1rem !important;
        background-color: #f8fafc !important;
        border-bottom: 1px solid #e2e8f0 !important;
        font-size: 14px !important;
    }
    
    .breadcrumb a {
        color: #3182ce !important;
        text-decoration: none !important;
        padding: 0.25rem 0.5rem !important;
        border-radius: 4px !important;
    }
    
    .breadcrumb a:hover {
        background-color: #ebf8ff !important;
    }
}

/* ========================================
   9. フッターの最適化
   ======================================== */

@media (max-width: 768px) {
    
    footer {
        padding: 2rem 1rem !important;
        background-color: #2d3748 !important;
        color: #ffffff !important;
        text-align: center !important;
    }
    
    footer p,
    footer a {
        color: #ffffff !important;
        font-size: 14px !important;
        line-height: 1.5 !important;
    }
    
    footer a:hover {
        color: #63b3ed !important;
    }
}

/* ========================================
   10. 最終的な強制修正
   ======================================== */

@media (max-width: 768px) {
    
    /* 横スクロールの防止 */
    html,
    body {
        overflow-x: hidden !important;
        max-width: 100vw !important;
        width: 100% !important;
    }
    
    /* すべての要素の幅制限 */
    * {
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* 縦書き問題の完全解決 */
    * {
        writing-mode: horizontal-tb !important;
        text-orientation: mixed !important;
        direction: ltr !important;
    }
    
    /* フレックスボックスの修正 */
    .flex,
    .d-flex {
        display: flex !important;
        flex-direction: column !important;
        flex-wrap: wrap !important;
        gap: 1rem !important;
    }
    
    /* グリッドレイアウトの修正 */
    .grid,
    .row {
        display: flex !important;
        flex-direction: column !important;
        gap: 1rem !important;
    }
    
    /* 隠れた要素の表示修正 */
    .hidden-mobile {
        display: none !important;
    }
    
    .show-mobile {
        display: block !important;
    }
    
    /* パフォーマンス最適化 */
    * {
        -webkit-transform: translateZ(0) !important;
        transform: translateZ(0) !important;
        -webkit-backface-visibility: hidden !important;
        backface-visibility: hidden !important;
    }
    
    /* スクロールの最適化 */
    body {
        -webkit-overflow-scrolling: touch !important;
        scroll-behavior: smooth !important;
    }
}

/* ========================================
   11. アクセシビリティの向上
   ======================================== */

@media (max-width: 768px) {
    
    /* フォーカス表示の改善 */
    *:focus {
        outline: 2px solid #3182ce !important;
        outline-offset: 2px !important;
    }
    
    /* 高コントラストモード対応 */
    @media (prefers-contrast: high) {
        * {
            border-color: #000000 !important;
        }
        
        .btn,
        button {
            border: 2px solid #000000 !important;
        }
        
        a {
            text-decoration: underline !important;
            text-decoration-thickness: 2px !important;
        }
    }
    
    /* 動きを減らす設定への対応 */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
}

/* ========================================
   12. キャッシュバスティング確認
   ======================================== */

/* 統合モバイルCSS v1.0 - 2025年7月30日 */
/* 全ての競合を解決し、確実に動作するモバイル対応を実現 */

